<!doctype html>
<html lang="fr" data-color-scheme="auto">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  <meta name="theme-color" content="#0ea5e9">
  <title>Quatre en ligne !</title>
  <meta name="description" content="Le meilleur jeu de Quatre en ligne !">
  <!-- Open Graph -->
  <meta property="og:title" content="Quatre en ligne !">
  <meta property="og:description" content="Le meilleur !">
  <meta property="og:type" content="website">
  <meta property="og:image" content="images/hero.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="prefetch" href="apprendre.html" as="document">

  <style>
    /* ====== Design de base (CSS pur) ====== */
    :root{
      --bg: #0b1220; --bg-soft: #111827; --fg: #e5e7eb; --fg-dim: #bcc1cd;
      --brand: #0ea5e9; --brand-2: #22d3ee; --ring: rgba(34,211,238,.35);
      --maxw: 1100px; --radius: 14px; --shadow: 0 10px 30px rgba(0,0,0,.25);
      --ease: cubic-bezier(.2,.7,.2,1);
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#f8fafc; --bg-soft:#fff; --fg:#0b1220; --fg-dim:#475569; --ring:rgba(14,165,233,.25) }
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%;height:auto;display:block}
    .container{max-width:var(--maxw);margin-inline:auto;padding:clamp(16px,2vw,24px)}
    .card{background:var(--bg-soft);border-radius:var(--radius);box-shadow:var(--shadow);border:1px solid rgba(255,255,255,.06);transition:transform .45s var(--ease), box-shadow .45s var(--ease)}
    .card:hover{transform:translateY(-4px);box-shadow:0 16px 40px rgba(0,0,0,.35)}
    .btn{position:relative;overflow:hidden;display:inline-flex;align-items:center;gap:.5rem;background:linear-gradient(90deg,var(--brand),var(--brand-2));color:white;border:0;border-radius:999px;padding:.85rem 1.2rem;font-weight:700;box-shadow:0 8px 24px rgba(14,165,233,.35)}
    .btn:focus{outline:3px solid var(--ring);outline-offset:3px}
    .btn::after{content:"";position:absolute;inset:0;background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.35) 50%,transparent 100%);transform:translateX(-120%);animation:shine 3.2s var(--ease) infinite}
    @keyframes shine{to{transform:translateX(120%)}}

    /* ====== En-tête ====== */
    header{position:sticky;top:0;background:rgba(17,24,39,.7);backdrop-filter:saturate(120%) blur(8px);z-index:40;border-bottom:1px solid rgba(255,255,255,.06);transition:background .35s var(--ease)}
    header.scrolled{background:rgba(17,24,39,.88)}
    header .wrap{display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:.7rem;font-weight:800;letter-spacing:.2px}
    .brand a{display:flex;align-items:center;gap:.7rem;color:inherit}
    .brand .logo{inline-size:36px;block-size:36px;border-radius:10px;background:linear-gradient(135deg,var(--brand),var(--brand-2));display:grid;place-items:center;color:white;font-weight:900;box-shadow:0 6px 20px rgba(14,165,233,.45);animation:float 6s ease-in-out infinite}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-3px)}}

    nav ul{display:flex;gap:1rem;list-style:none;margin:0;padding:0}
    nav a{display:block;padding:.8rem .9rem;border-radius:10px;position:relative}
    nav a:hover{background:rgba(255,255,255,.06);text-decoration:none}
    nav a::after{content:"";position:absolute;left:.8rem;right:.8rem;bottom:.45rem;height:2px;background:linear-gradient(90deg,var(--brand),var(--brand-2));border-radius:2px;transform:scaleX(0);transform-origin:left;transition:transform .35s var(--ease)}
    nav a:hover::after{transform:scaleX(1)}
    .nav-toggle{display:none}
    @media (max-width: 760px){
      nav ul{display:none}
      .nav-toggle{display:inline-flex;align-items:center;gap:.5rem;border:1px solid rgba(255,255,255,.12);background:transparent;color:var(--fg);padding:.55rem .8rem;border-radius:10px}
      .nav-open nav ul{display:flex;flex-direction:column;gap:.25rem;position:absolute;inset-inline:0;top:64px;background:var(--bg-soft);padding:10px 16px;border-bottom:1px solid rgba(255,255,255,.08);animation:drop .28s var(--ease)}
      @keyframes drop{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
    }

    /* ====== Hero ====== */
    .hero{position:relative;display:grid;min-block-size:68vh;place-items:center;padding-block:6vh;overflow:hidden}
    .hero .bg-blur{position:absolute;inset:auto -20% -30% -20%;height:60%;filter:blur(60px);opacity:.35;background:radial-gradient(60% 60% at 50% 50%, var(--brand), transparent 60%)}
    .hero .inner{position:relative;display:grid;gap:1.1rem;max-width:800px;text-align:center}
    .kicker{color:var(--brand-2);font-weight:700;letter-spacing:.25em;text-transform:uppercase;font-size:.8rem}
    h1{font-size:clamp(2rem,5vw,3.2rem);line-height:1.1;margin:0}
    .lead{font-size:clamp(1rem,2.3vw,1.25rem);color:var(--fg-dim)}
    .hero-picture{perspective:900px}
    .hero-img{transform-style:preserve-3d;transition:transform .6s var(--ease), box-shadow .6s var(--ease)}
    .hero-img:hover{box-shadow:0 18px 60px rgba(14,165,233,.35)}

    /* ====== Sections ====== */
    section{padding-block:48px}
    h2{font-size:clamp(1.6rem,3.2vw,2.2rem);margin:0 0 12px}
    .grid{display:grid;gap:18px;grid-template-columns:repeat(12,1fr)}
    .grid > *{grid-column:span 12}
    @media (min-width: 760px){
      .grid-3 > *{grid-column:span 4}
      .grid-2 > *{grid-column:span 6}
    }
    .feature{padding:18px}
    .feature h3{margin:.2rem 0 .3rem;font-size:1.05rem}
    .muted{color:var(--fg-dim)}
    footer{padding-block:40px;border-top:1px solid rgba(255,255,255,.08);color:var(--fg-dim)}

    /* ====== Utilitaires / Anim entrées ====== */
    .reveal{opacity:0;transform:translateY(12px);transition:opacity .6s var(--ease), transform .6s var(--ease)}
    .reveal.in{opacity:1;transform:none}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .center{text-align:center}
    .pill{display:inline-block;padding:.35rem .6rem;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12)}

    @media (prefers-reduced-motion: reduce){
      .card,.hero-img,.btn::after,.brand .logo{animation:none}
      .reveal{opacity:1;transform:none}
      .btn,.card,.hero-img{transition:none}
    }

    /* View Transitions */
    ::view-transition-old(root),::view-transition-new(root){animation-duration:.35s}
  </style>
</head>
<body>
  <a class="sr-only" href="#contenu">Aller au contenu</a>
  <header>
    <div class="container wrap">
      <div class="brand" aria-label="Accueil">
        <a href="index.html">
          <div class="logo" aria-hidden="true">★</div>
          <span>Quatre en ligne</span>
        </a>
      </div>
      <button class="nav-toggle" aria-label="Ouvrir le menu" aria-expanded="false" aria-controls="menu">☰ Menu</button>
      <nav id="menu" aria-label="Navigation principale">
        <ul>
          <li><a href="#apropos">À propos</a></li>
          <li><a href="#services">Fonctionnalités</a></li>
          <li><a href="apprendre.html">Apprendre à jouer</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="contenu">
    <!-- ====== HERO ====== -->
    <section class="hero container">
      <div class="bg-blur" aria-hidden="true"></div>
      <div class="inner reveal">
        <span class="kicker">Connect Four, mais stylé</span>
        <h1>Quatre en ligne !</h1>
        <div class="hero-picture">
          <picture>
            <source srcset="images/hero.webp" type="image/webp">
            <img src="images/hero.jpg" alt="Image de couverture" width="1600" height="900" loading="eager" fetchpriority="high" decoding="async" class="card hero-img" />
          </picture>
        </div>
        <p class="lead">LE MEILLEUR JEU !! Disponible sur iPhone, iPad, Mac et Vision Pro.</p>
        <p>
          <a href="https://apps.apple.com/app/quatre-en-ligne/id6751297809" class="btn" target="_blank" rel="noopener noreferrer">Télécharger !</a>
          <a href="apprendre.html" class="btn" style="margin-left:.5rem;">Apprendre à jouer</a>
        </p>
      </div>
    </section>

    <!-- ====== FONCTIONNALITÉS ====== -->
    <section id="services" class="container">
      <h2 class="reveal">Fonctionnalités</h2>
      <div class="grid grid-3">
        <article class="card feature reveal">
          <h3>Plusieurs thèmes</h3>
          <p class="muted">Personnalisez l’ambiance pour une expérience parfaite.</p>
        </article>
        <article class="card feature reveal">
          <h3>Plusieurs niveaux</h3>
          <p class="muted">Affrontez des IA de difficulté croissante pour progresser.</p>
        </article>
        <article class="card feature reveal">
          <h3>Et plus encore !!</h3>
          <p class="muted">Mode à deux, choix du premier joueur, et bien plus.</p>
        </article>
      </div>
    </section>

    <!-- ====== A PROPOS ====== -->
    <section id="apropos" class="container">
      <h2 class="reveal">À propos</h2>
      <div class="card feature reveal">
        <p>Quatre en ligne est le meilleur jeu de ce genre avec une variété de thèmes, de fonctionnalités et plus encore… Disponible sur iPhone, iPad, Mac et Vision Pro !</p>
        <p class="muted">(iOS/iPadOS 16 requis, Mac avec puce Apple requis)</p>
      </div>
    </section>

    <!-- ====== CONTACT ====== -->
    <section id="contact" class="container">
      <h2 class="reveal">Contact</h2>
      <div class="grid grid-2">
        <div class="card feature reveal">
          <h3>Écrivez-nous</h3>
          <p class="muted">Si vous souhaitez nous contacter, envoyez un email à l'adresse</p>
          <p><span class="pill">bobcats_triton.0k@icloud.com</span></p>
        </div>
      </div>
    </section>
  </main>

  <footer class="container center">
    <small>© <span id="year"></span> Quatre en ligne • <a href="apprendre.html">Apprendre à jouer</a></small>
  </footer>

  <script>
    // Menu mobile accessible
    const toggle = document.querySelector('.nav-toggle');
    const header = document.querySelector('header');
    toggle?.addEventListener('click', () => {
      const open = header.classList.toggle('nav-open');
      toggle.setAttribute('aria-expanded', String(open));
    });

    // Header opacité au scroll
    const onScroll = () => header.classList.toggle('scrolled', scrollY > 8);
    onScroll(); addEventListener('scroll', onScroll, {passive:true});

    // Année courante
    document.getElementById('year').textContent = new Date().getFullYear();

    // Défilement doux interne + fermeture menu
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click',e=>{
        const id=a.getAttribute('href'); 
        if(id.length>1){
          e.preventDefault(); 
          document.querySelector(id)?.scrollIntoView({behavior:'smooth',block:'start'}); 
          header.classList.remove('nav-open'); 
          toggle?.setAttribute('aria-expanded','false');
        }
      });
    });

    // Révélations au scroll
    const reduce = matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (!reduce && 'IntersectionObserver' in window){
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if (e.isIntersecting){ e.target.classList.add('in'); io.unobserve(e.target); }
        })
      }, {rootMargin:'-10% 0px'});
      document.querySelectorAll('.reveal').forEach(el=>io.observe(el));
    } else {
      document.querySelectorAll('.reveal').forEach(el=>el.classList.add('in'));
    }

    // Tilt léger sur l'image de hero
    const heroImg = document.querySelector('.hero-img');
    if (heroImg && !reduce){
      const maxTilt = 8;
      const reset = () => heroImg.style.transform = 'rotateX(0) rotateY(0) translateZ(0)';
      heroImg.addEventListener('pointermove', (e)=>{
        const r = heroImg.getBoundingClientRect();
        const x = (e.clientX - r.left)/r.width - .5;
        const y = (e.clientY - r.top)/r.height - .5;
        heroImg.style.transform = `rotateX(${(y*-maxTilt).toFixed(1)}deg) rotateY(${(x*maxTilt).toFixed(1)}deg)`;
      });
      ['pointerleave','blur'].forEach(ev=>heroImg.addEventListener(ev, reset));
    }

    // Ripple sur les boutons
    document.querySelectorAll('.btn').forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        if (reduce) return;
        const rect = btn.getBoundingClientRect();
        const span = document.createElement('span');
        const size = Math.max(rect.width, rect.height);
        span.style.cssText = `
          position:absolute;width:${size}px;height:${size}px;left:${e.clientX-rect.left-size/2}px;top:${e.clientY-rect.top-size/2}px;
          border-radius:50%;background:rgba(255,255,255,.35);transform:scale(0);opacity:1;pointer-events:none;
          transition:transform .55s var(--ease), opacity .55s var(--ease);mix-blend:overlay;
        `;
        btn.appendChild(span);
        requestAnimationFrame(()=>{ span.style.transform='scale(1)'; span.style.opacity='0'; });
        setTimeout(()=>span.remove(), 600);
      });
    });

    // View Transitions entre pages internes
    document.addEventListener('click', (e)=>{
      const a = e.target.closest('a');
      if (!a) return;
      const url = new URL(a.href, location.href);
      const sameOrigin = url.origin === location.origin;
      const isInternal = sameOrigin && !a.target && !a.hash && !a.hasAttribute('download');
      if (isInternal && document.startViewTransition){
        e.preventDefault();
        document.startViewTransition(()=>location.assign(url.href));
      }
    });
  </script>
</body>
</html>
